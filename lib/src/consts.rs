use std::fmt::Debug;

pub const SECONDS_TO_2000: i64 = 946_684_800;
pub const TICKS_PER_SECOND: u64 = 60_750_000;
pub const STRLEN: u32 = 0x10014 + 0x300;
pub const BUFFER_SIZE: usize = 0x32400;
pub const FOLDER_ID: &str = "PUNE_69";
pub const FOLDER_TYPE: &str = "log";
pub const FILE_EXTENSION: &str = "000";

macro_rules! sys_menu_vars {
    ($($k:literal => $v:expr),* $(,)?) => {
        pub static SYSMENU_KEYS: &[&str] = &[$($k),*];

        pub static SYSMENU_VARS: phf::Map<&'static str, SysMenuVars> = phf::phf_map! {
            $($k => $v),*
        };
    };
}

#[derive(Clone, Copy)]
pub struct SysMenuVars {
    pub jump_addr: u32,
    pub overwrite_addr: u32,
    pub jump_table_addr: u32,
    pub file_struct_version: u32,
    pub os_return_to_menu: u32,
    pub os_stop_audio_system: u32,
    pub gx_abort: u32,
    pub vfsys_open_file_current: u32,
    pub vfsys_read_file: u32,
    pub os_unregister_state_event: u32,
    pub vi_set_black: u32,
    pub vi_flush: u32,
    pub vfpvol_get_volume: u32,
    pub vfpvol_set_current_volume: u32,
}

impl Debug for SysMenuVars {
    fn fmt(&self, f: &mut std::fmt::Formatter<'_>) -> std::fmt::Result {
        f.debug_struct("SysMenuVars")
            .field("jump_addr", &format_args!("0x{:08x}", self.jump_addr))
            .field(
                "overwrite_addr",
                &format_args!("0x{:08x}", self.overwrite_addr),
            )
            .field(
                "jump_table_addr",
                &format_args!("0x{:08x}", self.jump_table_addr),
            )
            .field(
                "file_struct_version",
                &format_args!("0x{:08x}", self.file_struct_version),
            )
            .field(
                "os_return_to_menu",
                &format_args!("0x{:08x}", self.os_return_to_menu),
            )
            .field(
                "os_stop_audio_system",
                &format_args!("0x{:08x}", self.os_stop_audio_system),
            )
            .field("gx_abort", &format_args!("0x{:08x}", self.gx_abort))
            .field(
                "vfsys_open_file_current",
                &format_args!("0x{:08x}", self.vfsys_open_file_current),
            )
            .field(
                "vfsys_read_file",
                &format_args!("0x{:08x}", self.vfsys_read_file),
            )
            .field(
                "os_unregister_state_event",
                &format_args!("0x{:08x}", self.os_unregister_state_event),
            )
            .field("vi_set_black", &format_args!("0x{:08x}", self.vi_set_black))
            .field("vi_flush", &format_args!("0x{:08x}", self.vi_flush))
            .field(
                "vfpvol_get_volume",
                &format_args!("0x{:08x}", self.vfpvol_get_volume),
            )
            .field(
                "vfpvol_set_current_volume",
                &format_args!("0x{:08x}", self.vfpvol_set_current_volume),
            )
            .finish()
    }
}

// pub static SYSMENU_VARS: phf::Map<&'static str, SysMenuVars> = phf_map! {
sys_menu_vars! {
    // U versions
    "4.3u" => SysMenuVars {
        jump_addr: 0x9234d22c,
        overwrite_addr: 0x816a73b8,
        jump_table_addr: 0x92349D10,
        file_struct_version: 0x00000260,
        os_return_to_menu: 0x813808a0,
        os_stop_audio_system: 0x8152d828,
        gx_abort: 0x8154409c,
        vfsys_open_file_current: 0x814d3428,
        vfsys_read_file: 0x814d3704,
        os_unregister_state_event: 0x81536b94,
        vi_set_black: 0x8153e128,
        vi_flush: 0x8153dfa0,
        vfpvol_get_volume: 0x814cdfe8,
        vfpvol_set_current_volume: 0x814cdd48,
    },
    "4.2u" => SysMenuVars {
        jump_addr: 0x9234d22c,
        overwrite_addr: 0x816a57d8,
        jump_table_addr: 0x92349D10,
        file_struct_version: 0x00000260,
        os_return_to_menu: 0x81380190,
        os_stop_audio_system: 0x8152c20c,
        gx_abort: 0x81542a80,
        vfsys_open_file_current: 0x814d2c50,
        vfsys_read_file: 0x814d2f2c,
        os_unregister_state_event: 0x81535578,
        vi_set_black: 0x8153cb0c,
        vi_flush: 0x8153c984,
        vfpvol_get_volume: 0x814cd810,
        vfpvol_set_current_volume: 0x814cd570,
    },
    "4.1u" => SysMenuVars {
        jump_addr: 0x9234d22c,
        overwrite_addr: 0x816a4858,
        jump_table_addr: 0x92349D10,
        file_struct_version: 0x00000260,
        os_return_to_menu: 0x8137fa14,
        os_stop_audio_system: 0x8152b944,
        gx_abort: 0x815421b8,
        vfsys_open_file_current: 0x814d2388,
        vfsys_read_file: 0x814d2664,
        os_unregister_state_event: 0x81534cb0,
        vi_set_black: 0x8153c244,
        vi_flush: 0x8153c0bc,
        vfpvol_get_volume: 0x814ccf48,
        vfpvol_set_current_volume: 0x814ccca8,
    },
    "4.0u" => SysMenuVars {
        jump_addr: 0x9234d22c,
        overwrite_addr: 0x816a46b8,
        jump_table_addr: 0x92349D10,
        file_struct_version: 0x00000260,
        os_return_to_menu: 0x8137f918,
        os_stop_audio_system: 0x8152b81c,
        gx_abort: 0x81542090,
        vfsys_open_file_current: 0x814d2288,
        vfsys_read_file: 0x814d2564,
        os_unregister_state_event: 0x81534b88,
        vi_set_black: 0x8153c11c,
        vi_flush: 0x8153bf94,
        vfpvol_get_volume: 0x814cce48,
        vfpvol_set_current_volume: 0x814ccba8,
    },
    "3.4u" => SysMenuVars {
        jump_addr: 0x92327a2c,
        overwrite_addr: 0x81681d08,
        jump_table_addr: 0x92324510,
        file_struct_version: 0x00000264,
        os_return_to_menu: 0x8137ad10,
        os_stop_audio_system: 0x8150dfb8,
        gx_abort: 0x8152482c,
        vfsys_open_file_current: 0x814b4150,
        vfsys_read_file: 0x814b4568,
        os_unregister_state_event: 0x81517324,
        vi_set_black: 0x8151e8b8,
        vi_flush: 0x8151e730,
        vfpvol_get_volume: 0x814af794,
        vfpvol_set_current_volume: 0x814af4f4,
    },
    "3.3u" => SysMenuVars {
        jump_addr: 0x92327a2c,
        overwrite_addr: 0x81674ae8,
        jump_table_addr: 0x92324510,
        file_struct_version: 0x00000264,
        os_return_to_menu: 0x8137a274,
        os_stop_audio_system: 0x81505a00,
        gx_abort: 0x8151c274,
        vfsys_open_file_current: 0x814878f8,
        vfsys_read_file: 0x81487d10,
        os_unregister_state_event: 0x8150ed6c,
        vi_set_black: 0x81516300,
        vi_flush: 0x81516178,
        vfpvol_get_volume: 0x81482f3c,
        vfpvol_set_current_volume: 0x81482c9c,
    },
    "3.2u" => SysMenuVars {
        jump_addr: 0x92327a2c,
        overwrite_addr: 0x81673c88,
        jump_table_addr: 0x92324510,
        file_struct_version: 0x00000264,
        os_return_to_menu: 0x81379d08,
        os_stop_audio_system: 0x81505168,
        gx_abort: 0x8151b9dc,
        vfsys_open_file_current: 0x81487384,
        vfsys_read_file: 0x8148779c,
        os_unregister_state_event: 0x8150e4d4,
        vi_set_black: 0x81515a68,
        vi_flush: 0x815158e0,
        vfpvol_get_volume: 0x814829c8,
        vfpvol_set_current_volume: 0x81482728,
    },
    "3.1u" => SysMenuVars {
        jump_addr: 0x92327a24,
        overwrite_addr: 0x81673508,
        jump_table_addr: 0x92324508,
        file_struct_version: 0x00000264,
        os_return_to_menu: 0x81379c34,
        os_stop_audio_system: 0x81504a74,
        gx_abort: 0x8151b2e8,
        vfsys_open_file_current: 0x81486ca4,
        vfsys_read_file: 0x814870bc,
        os_unregister_state_event: 0x8150dde0,
        vi_set_black: 0x81515374,
        vi_flush: 0x815151ec,
        vfpvol_get_volume: 0x814822e8,
        vfpvol_set_current_volume: 0x81482048,
    },
    "3.0u" => SysMenuVars {
        jump_addr: 0x92327a24,
        overwrite_addr: 0x81673a68,
        jump_table_addr: 0x92324508,
        file_struct_version: 0x00000264,
        os_return_to_menu: 0x81379bd4,
        os_stop_audio_system: 0x81504ffc,
        gx_abort: 0x8151b870,
        vfsys_open_file_current: 0x81486c4c,
        vfsys_read_file: 0x81487064,
        os_unregister_state_event: 0x8150e368,
        vi_set_black: 0x815158fc,
        vi_flush: 0x81515774,
        vfpvol_get_volume: 0x81482290,
        vfpvol_set_current_volume: 0x81481ff0,
    },

    // E versions
    "4.3e" => SysMenuVars {
        jump_addr: 0x9234d22c,
        overwrite_addr: 0x816a9258,
        jump_table_addr: 0x92349D10,
        file_struct_version: 0x00000260,
        os_return_to_menu: 0x81380948,
        os_stop_audio_system: 0x8152d924,
        gx_abort: 0x81544198,
        vfsys_open_file_current: 0x814d3524,
        vfsys_read_file: 0x814d3800,
        os_unregister_state_event: 0x81536c90,
        vi_set_black: 0x8153e224,
        vi_flush: 0x8153e09c,
        vfpvol_get_volume: 0x814ce0e4,
        vfpvol_set_current_volume: 0x814cde44,
    },
    "4.2e" => SysMenuVars {
        jump_addr: 0x9234d22c,
        overwrite_addr: 0x816a7678,
        jump_table_addr: 0x92349D10,
        file_struct_version: 0x00000260,
        os_return_to_menu: 0x81380238,
        os_stop_audio_system: 0x8152c308,
        gx_abort: 0x81542b7c,
        vfsys_open_file_current: 0x814d2d4c,
        vfsys_read_file: 0x814d3028,
        os_unregister_state_event: 0x81535674,
        vi_set_black: 0x8153cc08,
        vi_flush: 0x8153ca80,
        vfpvol_get_volume: 0x814cd90c,
        vfpvol_set_current_volume: 0x814cd66c,
    },
    "4.1e" => SysMenuVars {
        jump_addr: 0x9234d22c,
        overwrite_addr: 0x816a66f8,
        jump_table_addr: 0x92349D10,
        file_struct_version: 0x00000260,
        os_return_to_menu: 0x8137fabc,
        os_stop_audio_system: 0x8152ba40,
        gx_abort: 0x815422b4,
        vfsys_open_file_current: 0x814d2484,
        vfsys_read_file: 0x814d2760,
        os_unregister_state_event: 0x81534dac,
        vi_set_black: 0x8153c340,
        vi_flush: 0x8153c1b8,
        vfpvol_get_volume: 0x814cd044,
        vfpvol_set_current_volume: 0x814ccda4,
    },
    "4.0e" => SysMenuVars {
        jump_addr: 0x9234d22c,
        overwrite_addr: 0x816a6578,
        jump_table_addr: 0x92349D10,
        file_struct_version: 0x00000260,
        os_return_to_menu: 0x8137f9c0,
        os_stop_audio_system: 0x8152b918,
        gx_abort: 0x8154218c,
        vfsys_open_file_current: 0x814d2384,
        vfsys_read_file: 0x814d2660,
        os_unregister_state_event: 0x81534c84,
        vi_set_black: 0x8153c218,
        vi_flush: 0x8153c090,
        vfpvol_get_volume: 0x814ccf44,
        vfpvol_set_current_volume: 0x814ccca4,
    },
    "3.4e" => SysMenuVars {
        jump_addr: 0x92327a2c,
        overwrite_addr: 0x81683b88,
        jump_table_addr: 0x92324510,
        file_struct_version: 0x00000264,
        os_return_to_menu: 0x8137adb8,
        os_stop_audio_system: 0x8150e0b4,
        gx_abort: 0x81524928,
        vfsys_open_file_current: 0x814b424c,
        vfsys_read_file: 0x814b4664,
        os_unregister_state_event: 0x81517420,
        vi_set_black: 0x8151e9b4,
        vi_flush: 0x8151e82c,
        vfpvol_get_volume: 0x814af890,
        vfpvol_set_current_volume: 0x814af5f0,
    },
    "3.3e" => SysMenuVars {
        jump_addr: 0x92327a2c,
        overwrite_addr: 0x81676968,
        jump_table_addr: 0x92324510,
        file_struct_version: 0x00000264,
        os_return_to_menu: 0x8137a31c,
        os_stop_audio_system: 0x81505afc,
        gx_abort: 0x8151c370,
        vfsys_open_file_current: 0x814879f4,
        vfsys_read_file: 0x81487e0c,
        os_unregister_state_event: 0x8150ee68,
        vi_set_black: 0x815163fc,
        vi_flush: 0x81516274,
        vfpvol_get_volume: 0x81483038,
        vfpvol_set_current_volume: 0x81482d98,
    },
    "3.2e" => SysMenuVars {
        jump_addr: 0x92327a2c,
        overwrite_addr: 0x81675b28,
        jump_table_addr: 0x92324510,
        file_struct_version: 0x00000264,
        os_return_to_menu: 0x81379db0,
        os_stop_audio_system: 0x81505264,
        gx_abort: 0x8151bad8,
        vfsys_open_file_current: 0x81487480,
        vfsys_read_file: 0x81487898,
        os_unregister_state_event: 0x8150e5d0,
        vi_set_black: 0x81515b64,
        vi_flush: 0x815159dc,
        vfpvol_get_volume: 0x81482ac4,
        vfpvol_set_current_volume: 0x81482824,
    },
    "3.1e" => SysMenuVars {
        jump_addr: 0x92327a24,
        overwrite_addr: 0x81675368,
        jump_table_addr: 0x92324508,
        file_struct_version: 0x00000264,
        os_return_to_menu: 0x81379cdc,
        os_stop_audio_system: 0x81504b70,
        gx_abort: 0x8151b3e4,
        vfsys_open_file_current: 0x81486da0,
        vfsys_read_file: 0x814871b8,
        os_unregister_state_event: 0x8150dedc,
        vi_set_black: 0x81515470,
        vi_flush: 0x815152e8,
        vfpvol_get_volume: 0x814823e4,
        vfpvol_set_current_volume: 0x81482144,
    },
    "3.0e" => SysMenuVars {
        jump_addr: 0x92327a24,
        overwrite_addr: 0x816758c8,
        jump_table_addr: 0x92324508,
        file_struct_version: 0x00000264,
        os_return_to_menu: 0x81379c7c,
        os_stop_audio_system: 0x815050f8,
        gx_abort: 0x8151b96c,
        vfsys_open_file_current: 0x81486d48,
        vfsys_read_file: 0x81487160,
        os_unregister_state_event: 0x8150e464,
        vi_set_black: 0x815159f8,
        vi_flush: 0x81515870,
        vfpvol_get_volume: 0x8148238c,
        vfpvol_set_current_volume: 0x814820ec,
    },

    // J versions
    "4.3j" => SysMenuVars {
        jump_addr: 0x9234d22c,
        overwrite_addr: 0x816d6ab8,
        jump_table_addr: 0x92349D10,
        file_struct_version: 0x00000260,
        os_return_to_menu: 0x8137fd54,
        os_stop_audio_system: 0x81556768,
        gx_abort: 0x8156cfdc,
        vfsys_open_file_current: 0x814fc368,
        vfsys_read_file: 0x814fc644,
        os_unregister_state_event: 0x8155fad4,
        vi_set_black: 0x81567068,
        vi_flush: 0x81566ee0,
        vfpvol_get_volume: 0x814f6f28,
        vfpvol_set_current_volume: 0x814f6c88,
    },
    "4.2j" => SysMenuVars {
        jump_addr: 0x9234d22c,
        overwrite_addr: 0x816d4ed8,
        jump_table_addr: 0x92349D10,
        file_struct_version: 0x00000260,
        os_return_to_menu: 0x8137f644,
        os_stop_audio_system: 0x8155514c,
        gx_abort: 0x8156b9c0,
        vfsys_open_file_current: 0x814fbb90,
        vfsys_read_file: 0x814fbe6c,
        os_unregister_state_event: 0x8155e4b8,
        vi_set_black: 0x81565a4c,
        vi_flush: 0x815658c4,
        vfpvol_get_volume: 0x814f6750,
        vfpvol_set_current_volume: 0x814f64b0,
    },
    "4.1j" => SysMenuVars {
        jump_addr: 0x9234d22c,
        overwrite_addr: 0x816d3f38,
        jump_table_addr: 0x92349D10,
        file_struct_version: 0x00000260,
        os_return_to_menu: 0x8137eec8,
        os_stop_audio_system: 0x81554880,
        gx_abort: 0x8156b0f4,
        vfsys_open_file_current: 0x814fb2c4,
        vfsys_read_file: 0x814fb5a0,
        os_unregister_state_event: 0x8155dbec,
        vi_set_black: 0x81565180,
        vi_flush: 0x81564ff8,
        vfpvol_get_volume: 0x814f5e84,
        vfpvol_set_current_volume: 0x814f5be4,
    },
    "4.0j" => SysMenuVars {
        jump_addr: 0x9234d22c,
        overwrite_addr: 0x816d3dd8,
        jump_table_addr: 0x92349D10,
        file_struct_version: 0x00000260,
        os_return_to_menu: 0x8137edcc,
        os_stop_audio_system: 0x81554758,
        gx_abort: 0x8156afcc,
        vfsys_open_file_current: 0x814fb1c4,
        vfsys_read_file: 0x814fb4a0,
        os_unregister_state_event: 0x8155dac4,
        vi_set_black: 0x81565058,
        vi_flush: 0x81564ed0,
        vfpvol_get_volume: 0x814f5d84,
        vfpvol_set_current_volume: 0x814f5ae4,
    },
    "3.4j" => SysMenuVars {
        jump_addr: 0x92327a2c,
        overwrite_addr: 0x816b1428,
        jump_table_addr: 0x92324510,
        file_struct_version: 0x00000264,
        os_return_to_menu: 0x8137a1c4,
        os_stop_audio_system: 0x81536ef4,
        gx_abort: 0x8154d768,
        vfsys_open_file_current: 0x814dd08c,
        vfsys_read_file: 0x814dd4a4,
        os_unregister_state_event: 0x81540260,
        vi_set_black: 0x815477f4,
        vi_flush: 0x8154766c,
        vfpvol_get_volume: 0x814d86d0,
        vfpvol_set_current_volume: 0x814d8430,
    },
    "3.3j" => SysMenuVars {
        jump_addr: 0x92327a2c,
        overwrite_addr: 0x816a8488,
        jump_table_addr: 0x92324510,
        file_struct_version: 0x00000264,
        os_return_to_menu: 0x813798a8,
        os_stop_audio_system: 0x81532a3c,
        gx_abort: 0x815492b0,
        vfsys_open_file_current: 0x81489450,
        vfsys_read_file: 0x81489868,
        os_unregister_state_event: 0x8153bda8,
        vi_set_black: 0x8154333c,
        vi_flush: 0x815431b4,
        vfpvol_get_volume: 0x81484a94,
        vfpvol_set_current_volume: 0x814847f4,
    },
    "3.2j" => SysMenuVars {
        jump_addr: 0x92327a2c,
        overwrite_addr: 0x816a7628,
        jump_table_addr: 0x92324510,
        file_struct_version: 0x00000264,
        os_return_to_menu: 0x8137931c,
        os_stop_audio_system: 0x81532184,
        gx_abort: 0x815489f8,
        vfsys_open_file_current: 0x81488ebc,
        vfsys_read_file: 0x814892d4,
        os_unregister_state_event: 0x8153b4f0,
        vi_set_black: 0x81542a84,
        vi_flush: 0x815428fc,
        vfpvol_get_volume: 0x81484500,
        vfpvol_set_current_volume: 0x81484260,
    },
    "3.1j" => SysMenuVars {
        jump_addr: 0x92327a24,
        overwrite_addr: 0x816a6e48,
        jump_table_addr: 0x92324508,
        file_struct_version: 0x00000264,
        os_return_to_menu: 0x81379248,
        os_stop_audio_system: 0x81531a90,
        gx_abort: 0x81548304,
        vfsys_open_file_current: 0x814887dc,
        vfsys_read_file: 0x81488bf4,
        os_unregister_state_event: 0x8153adfc,
        vi_set_black: 0x81542390,
        vi_flush: 0x81542208,
        vfpvol_get_volume: 0x81483e20,
        vfpvol_set_current_volume: 0x81483b80,
    },
    "3.0j" => SysMenuVars {
        jump_addr: 0x92327a24,
        overwrite_addr: 0x816a73e8,
        jump_table_addr: 0x92324508,
        file_struct_version: 0x00000264,
        os_return_to_menu: 0x813791e8,
        os_stop_audio_system: 0x81532018,
        gx_abort: 0x8154888c,
        vfsys_open_file_current: 0x81488784,
        vfsys_read_file: 0x81488b9c,
        os_unregister_state_event: 0x8153b384,
        vi_set_black: 0x81542918,
        vi_flush: 0x81542790,
        vfpvol_get_volume: 0x81483dc8,
        vfpvol_set_current_volume: 0x81483b28,
    },

    // K versions
    "4.3k" => SysMenuVars {
        jump_addr: 0x9234d22c,
        overwrite_addr: 0x8167b9d8,
        jump_table_addr: 0x92349D10,
        file_struct_version: 0x00000260,
        os_return_to_menu: 0x8137fc34,
        os_stop_audio_system: 0x815065e0,
        gx_abort: 0x8151ce54,
        vfsys_open_file_current: 0x814ac1e0,
        vfsys_read_file: 0x814ac4bc,
        os_unregister_state_event: 0x8150f94c,
        vi_set_black: 0x81516ee0,
        vi_flush: 0x81516d58,
        vfpvol_get_volume: 0x814a6da0,
        vfpvol_set_current_volume: 0x814a6b00,
    },
    "4.2k" => SysMenuVars {
        jump_addr: 0x9234d22c,
        overwrite_addr: 0x81679dd8,
        jump_table_addr: 0x92349D10,
        file_struct_version: 0x00000260,
        os_return_to_menu: 0x8137f524,
        os_stop_audio_system: 0x81504fc4,
        gx_abort: 0x8151b838,
        vfsys_open_file_current: 0x814aba08,
        vfsys_read_file: 0x814abce4,
        os_unregister_state_event: 0x8150e330,
        vi_set_black: 0x815158c4,
        vi_flush: 0x8151573c,
        vfpvol_get_volume: 0x814a65c8,
        vfpvol_set_current_volume: 0x814a6328,
    },
    "4.1k" => SysMenuVars {
        jump_addr: 0x9234d22c,
        overwrite_addr: 0x81678f18,
        jump_table_addr: 0x92349D10,
        file_struct_version: 0x00000260,
        os_return_to_menu: 0x8137edf0,
        os_stop_audio_system: 0x81504744,
        gx_abort: 0x8151afb8,
        vfsys_open_file_current: 0x814ab188,
        vfsys_read_file: 0x814ab464,
        os_unregister_state_event: 0x8150dab0,
        vi_set_black: 0x81515044,
        vi_flush: 0x81514ebc,
        vfpvol_get_volume: 0x814a5d48,
        vfpvol_set_current_volume: 0x814a5aa8,
    },
    "3.5k" => SysMenuVars {
        jump_addr: 0x92327a2c,
        overwrite_addr: 0x81654868,
        jump_table_addr: 0x92324510,
        file_struct_version: 0x00000264,
        os_return_to_menu: 0x81379990,
        os_stop_audio_system: 0x814e6300,
        gx_abort: 0x814fcb74,
        vfsys_open_file_current: 0x8148c5bc,
        vfsys_read_file: 0x8148c9d4,
        os_unregister_state_event: 0x814ef66c,
        vi_set_black: 0x814f6c00,
        vi_flush: 0x814f6a78,
        vfpvol_get_volume: 0x81487c00,
        vfpvol_set_current_volume: 0x81487960,
    },
}
